<h2><i class="fa-solid fa-clipboard-list"></i> HastalarÄ±m</h2>

<!-- ğŸ” Arama Kutusu -->
<div class="search-bar">
  <input [(ngModel)]="searchQuery" (input)="searchPatients()" placeholder="Ad veya e-posta ile ara..." />
  <select [(ngModel)]="searchType">
    <option value="name">Ä°sme gÃ¶re</option>
    <option value="email">E-posta ile</option>
  </select>
</div>

<!-- âŒ Hasta yoksa -->
<div *ngIf="filteredPatients.length === 0" class="empty-message">
  KayÄ±tlÄ± hasta bulunamadÄ±.
</div>

<!-- ğŸ§¾ Hasta Listesi -->
<div *ngFor="let patient of filteredPatients" class="patient-card">
  <h3>{{ patient.name }} {{ patient.surname }}</h3>
  <p><i class="fa-solid fa-envelope"></i> {{ patient.email }}</p>
  <p><i class="fa-solid fa-phone"></i> {{ patient.phoneNumber }}</p>
  <p><i class="fa-solid fa-cake-candles"></i> DoÄŸum: {{ patient.birthDate || '-' }} | 
     <i class="fa-solid fa-droplet"></i> Kan Grubu: {{ patient.bloodType || '-' }}</p>

  <!-- ğŸ”¢ Ä°statistikler -->
  <div class="stats">
    <p><i class="fa-solid fa-calendar-check"></i> Randevu: {{ patient.appointmentCount || 0 }}</p>
    <p><i class="fa-solid fa-prescription-bottle-medical"></i> ReÃ§ete: {{ patient.prescriptionCount || 0 }}</p>
    <p><i class="fa-solid fa-vial"></i> Test: {{ patient.testResultCount || 0 }}</p>
    <p><i class="fa-solid fa-book-medical"></i> GeÃ§miÅŸ: {{ patient.historyCount || 0 }}</p>
    <p><i class="fa-solid fa-file-medical"></i> Rapor: {{ patient.reportCount || 0 }}</p>
  </div>

  <!-- âš¡ KÄ±sayol ButonlarÄ± -->
  <div class="actions">
    <button (click)="goToPrescription(patient.id)">
      <i class="fa-solid fa-pen-to-square"></i> ReÃ§ete Yaz
    </button>
    <button (click)="goToTest(patient.id)">
      <i class="fa-solid fa-flask"></i> Test Sonucu Ekle
    </button>
    <button (click)="goToHistory(patient.id)">
      <i class="fa-solid fa-notes-medical"></i> GeÃ§miÅŸ GÃ¶r
    </button>
    <button (click)="goToReport(patient.id)">
      <i class="fa-solid fa-file-medical-alt"></i> RaporlarÄ± GÃ¶r
    </button>
  </div>
</div>
