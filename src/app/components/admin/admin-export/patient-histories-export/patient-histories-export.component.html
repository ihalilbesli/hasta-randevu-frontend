<h3><i class="fa-solid fa-book-medical"></i> Hasta Geçmişi Verileri</h3>

<table *ngIf="histories.length > 0">
  <thead>
    <tr>
      <th><i class="fa-solid fa-hashtag"></i> ID</th>
      <th><i class="fa-solid fa-user"></i> Hasta</th>
      <th><i class="fa-solid fa-user-doctor"></i> Doktor</th>
      <th><i class="fa-solid fa-stethoscope"></i> Teşhis</th>
      <th><i class="fa-solid fa-syringe"></i> Tedavi</th>
      <th><i class="fa-solid fa-note-sticky"></i> Notlar</th>
      <th><i class="fa-solid fa-calendar-day"></i> Tarih</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let history of histories">
      <td>{{ history.id }}</td>
      <td>{{ history.patient?.name }} {{ history.patient?.surname }}</td>
      <td>{{ history.doctor?.name }} {{ history.doctor?.surname }}</td>
      <td>{{ history.diagnosis }}</td>
      <td>{{ history.treatment }}</td>
      <td>{{ history.notes || '-' }}</td>
      <td>{{ history.date }}</td>
    </tr>
  </tbody>
</table>

<button (click)="downloadCSV()" class="download-btn">
  <i class="fa-solid fa-file-csv"></i> CSV Olarak İndir
</button>
