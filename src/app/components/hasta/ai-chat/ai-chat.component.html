<!-- Buton: Yapay zeka aÃ§/kapat -->
<div class="ai-chat-button" *ngIf="!isOpen" (click)="toggle()">ğŸ¤–</div>

<!-- Yapay zeka sohbet kutusu -->
<div class="ai-chat-box" *ngIf="isOpen">
  <div class="header">
    <span>Yapay Zeka AsistanÄ±</span>
    <button (click)="toggle()">âœ–</button>
  </div>

  <textarea
   [(ngModel)]="complaintText"
   placeholder="Åikayetinizi yazÄ±n..."
   [readonly]="readonly">
  </textarea>

  <button (click)="submitComplaint()" [disabled]="isLoading || readonly">
    {{ isLoading ? 'YÃ¼kleniyor...' : 'GÃ¶nder' }}
  </button>

  <!-- YanÄ±t varsa gÃ¶ster -->
  <div class="response" *ngIf="response">
    <strong>Poliklinik Ã–nerisi:</strong>
    <div>{{ suggestedClinic || '-' }}</div>

    <br>

    <strong>Tavsiye:</strong>
    <div>
      {{
        (response.split('Tavsiye:')[1] || '-').trim()
      }}
    </div>
    <div class="actions">
      <button (click)="goToAppointment()">Randevu Al</button>
      <button (click)="reset()">Yeni Åikayet Yaz</button>
    </div>
  </div>
</div>
