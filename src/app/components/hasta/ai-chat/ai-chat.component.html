<!-- ğŸ¤– Yapay Zeka AÃ§/Kapat Butonu -->
<div class="ai-chat-button" *ngIf="!isOpen" (click)="toggle()">ğŸ¤–</div>

<!-- ğŸ’¬ Yapay Zeka Sohbet Kutusu -->
<div class="ai-chat-box" *ngIf="isOpen">
  <div class="header">
    <span>Yapay Zeka AsistanÄ±</span>
    <button (click)="toggle()">âœ–</button>
  </div>

  <!-- âœï¸ Åikayet GiriÅŸi -->
  <textarea
    [(ngModel)]="complaintText"
    placeholder="Åikayetinizi yazÄ±n..."
    [readonly]="readonly">
  </textarea>

  <button (click)="submitComplaint()" [disabled]="isLoading || readonly || !complaintText.trim()">
    {{ isLoading ? 'YÃ¼kleniyor...' : 'GÃ¶nder' }}
  </button>

  <!-- âœ… YanÄ±t Varsa GÃ¶ster -->
  <div class="response" *ngIf="response">
    <strong>Poliklinik Ã–nerisi:</strong>
    <div>
      {{ suggestedClinic || 'âš ï¸ Sistemimizde bulunmayan bir poliklinik Ã¶nerildi.' }}
    </div>

    <br>

    <strong>Tavsiye:</strong>
    <div>
      {{ (response.split('Tavsiye:')[1] || '-').trim() }}
    </div>

    <div class="actions">
      <button (click)="goToAppointment()" [disabled]="!suggestedClinic">Randevu Al</button>
      <button (click)="reset()">Yeni Åikayet Yaz</button>
    </div>
  </div>
</div>
