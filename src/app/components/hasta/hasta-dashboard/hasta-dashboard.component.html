<app-header></app-header>
<app-ai-chat></app-ai-chat>

<div class="dashboard-grid">
  <div class="left-column">
    <div class="card randevu-card">
      <h3>ğŸ”•ï¸ Randevu OluÅŸtur</h3>
      <p>Yeni bir randevu oluÅŸturmak iÃ§in tÄ±klayÄ±n.</p>
      <button (click)="goTo('appointment-create')">Randevu Al</button>
    </div>
  </div>

  <div class="right-column">
    <div class="tabs">
      <button [class.active]="activeTab === 'aktif'" (click)="activeTab = 'aktif'">Aktif Randevular</button>
      <button [class.active]="activeTab === 'gecmis'" (click)="activeTab = 'gecmis'">GeÃ§miÅŸ Randevular</button>
    </div>

    <div class="tab-content">
      <div *ngIf="activeTab === 'aktif'">
        <ul class="appointment-list fixed-slots">
          <ng-container *ngFor="let i of [0, 1]">
            <li class="appointment-item" [class.placeholder]="!activeAppointments[i]">
              <ng-container *ngIf="activeAppointments[i]; else emptyCardActive">
                <div class="left">
                  <div class="date">{{ activeAppointments[i].date }} - {{ activeAppointments[i].time }}</div>
                  <div class="badge badge-green">Aktif Randevu</div>
                  <div class="hospital">{{ activeAppointments[i].hospital }}</div>
                  <div class="desc">{{ activeAppointments[i].description }}</div>
                </div>
                <div class="right">
                  <div class="doctor">ğŸ‘¨â€âš•ï¸ {{ activeAppointments[i].doctor?.name }} {{ activeAppointments[i].doctor?.surname }}</div>
                 <div class="clinic">ğŸ¥ {{ activeAppointments[i].clinic?.name }}</div>
                  <button class="cancel-btn" (click)="cancelAppointment(activeAppointments[i].id)">Ä°ptal Et</button>
                </div>
              </ng-container>
              <ng-template #emptyCardActive>
                <div class="empty-slot">BoÅŸ</div>
              </ng-template>
            </li>
          </ng-container>
        </ul>
        <div class="show-all-container full-width">
          <button class="show-all-btn" (click)="goToActiveRandevular()">TÃ¼mÃ¼nÃ¼ GÃ¶ster</button>
        </div>
      </div>

      <div *ngIf="activeTab === 'gecmis'">
        <ul class="appointment-list fixed-slots">
          <ng-container *ngFor="let i of [0, 1]">
            <li class="appointment-item" [class.placeholder]="!pastAppointments[i]">
              <ng-container *ngIf="pastAppointments[i]; else emptyCardPast">
                <div class="left">
                  <div class="date">{{ pastAppointments[i].date }} - {{ pastAppointments[i].time }}</div>
                  <div class="badge badge-red">Ä°ptal Randevu</div>
                  <div class="hospital">{{ pastAppointments[i].hospital }}</div>
                  <div class="desc">{{ pastAppointments[i].description }}</div>
                </div>
                <div class="right">
                  <div class="doctor">ğŸ‘¨â€âš•ï¸ {{ pastAppointments[i].doctor?.name }} {{ pastAppointments[i].doctor?.surname }}</div>
                  <div class="clinic">ğŸ¥ {{ pastAppointments[i].clinic }}</div>
                  <button class="again-btn" (click)="goTo('appointment-create')">Tekrar Al</button>
                </div>
              </ng-container>
              <ng-template #emptyCardPast>
                <div class="empty-slot">BoÅŸ</div>
              </ng-template>
            </li>
          </ng-container>
        </ul>
        <div class="show-all-container full-width">
          <button class="show-all-btn" (click)="goToGecmisRandevular()">TÃ¼mÃ¼nÃ¼ GÃ¶ster</button>
        </div>
      </div>
      


    </div>
  </div>
</div>

<div class="card-grid">
  <div class="nav-card" (click)="goTo('prescriptions')">ğŸ’Š ReÃ§etelerim</div>
  <div class="nav-card" (click)="goTo('test-results')">ğŸ¦¢ Test SonuÃ§larÄ±m</div>
  <div class="nav-card" (click)="goTo('patient-reports')">ğŸ“„ RaporlarÄ±m</div>
  <div class="nav-card" (click)="goTo('patient-history')">ğŸ«´â€â™€ï¸ SaÄŸlÄ±k GeÃ§miÅŸim</div>
  <div class="nav-card" (click)="goTo('complaints')">ğŸ“ Åikayet OluÅŸtur</div>
  <div class="nav-card" (click)="goTo('appointment-list')">ğŸ“‹ TÃ¼m RandevularÄ±m</div>
</div>