
<div class="dashboard-bottom">
  <div class="pharmacy-card">
    <h3><i class="fas fa-hospital-symbol"></i> Nöbetçi Eczane Sorgulama</h3>

    <div class="form-group">
      <label for="city">Şehir Seçin</label>
      <select id="city" [(ngModel)]="selectedCity" (change)="onCityChange()" required>
        <option value="" disabled selected>Şehir seçin</option>
        <option *ngFor="let city of cities" [value]="city.name">{{ city.name }}</option>
      </select>
    </div>

    <div class="form-group" *ngIf="districts.length > 0">
      <label for="district">İlçe Seçin</label>
      <select id="district" [(ngModel)]="selectedDistrict">
        <option value="" selected>Tüm İlçeler</option>
        <option *ngFor="let district of districts" [value]="district">{{ district }}</option>
      </select>
    </div>

    <button (click)="searchPharmacies()">
      <i class="fas fa-search"></i> Eczane Ara
    </button>

    <div *ngIf="pharmacies.length > 0" class="result-list">
      <h4><i class="fas fa-list"></i> Sonuçlar</h4>
      <ul>
        <li *ngFor="let eczane of pharmacies" class="pharmacy-item">
          <strong><i class="fas fa-clinic-medical"></i> {{ eczane.name }}</strong><br />
          <i class="fas fa-city"></i> {{ eczane.dist }}<br />
          <i class="fas fa-map-marker-alt"></i> {{ eczane.address }}<br />
          <i class="fas fa-phone-alt"></i> {{ eczane.phone || 'Telefon Yok' }}
        </li>
      </ul>
    </div>

    <div *ngIf="hasSearched && pharmacies.length === 0 && selectedCity" class="no-result">
      <p><i class="fas fa-exclamation-circle"></i> Eczane bulunamadı.</p>
    </div>
  </div>
</div>


