<app-ai-chat></app-ai-chat>

<div class="report-list-container">
  <h2>ğŸ“„ RaporlarÄ±m</h2>

  <!-- Filtre -->
  <div class="filters">
    <label>
      Zaman Filtresi:
      <select [(ngModel)]="selectedPeriod" (change)="fetchReports()">
        <option value="all">TÃ¼mÃ¼</option>
        <option value="day">Son 1 GÃ¼n</option>
        <option value="week">Son 1 Hafta</option>
        <option value="month">Son 1 Ay</option>
        <option value="year">Son 1 YÄ±l</option>
      </select>
    </label>

    <label>
      Anahtar Kelime:
      <input type="text" [(ngModel)]="keyword" (input)="applyKeyword()" placeholder="Rapor tÃ¼rÃ¼nde ara..." />
    </label>
  </div>

  <!-- Kart Liste -->
  <div *ngIf="filteredReports.length > 0">
    <div class="report-card" *ngFor="let report of filteredReports">
      <div class="card-header">
        <div class="info">
          <div><strong>ğŸ“‚ TÃ¼r:</strong> {{ report.reportType }}</div>
          <div><strong>ğŸ“… Tarih:</strong> {{ report.reportDate | date: 'dd.MM.yyyy' }}</div>
          <div><strong>ğŸ‘¨â€âš•ï¸ Doktor:</strong> {{ report.doctor.name }} {{ report.doctor.surname }}</div>
        </div>
        <a class="view-link" [href]="report.fileUrl" target="_blank">GÃ¶rÃ¼ntÃ¼le</a>
      </div>
    </div>
  </div>

  <p *ngIf="filteredReports.length === 0" class="no-data-msg">
    HiÃ§ rapor bulunamadÄ±.
  </p>
</div>